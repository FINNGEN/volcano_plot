{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-selection')) : typeof define === 'function' && define.amd ? define(['exports', 'd3-selection'], factory) : factory(global.d3 = global.d3 || {}, global.d3);\n})(this, function (exports, d3Selection) {\n  'use strict';\n\n  function d3Tip() {\n    const functor = function functor(v) {\n      return typeof v === \"function\" ? v : function () {\n        return v;\n      };\n    };\n\n    var direction = d3_tip_direction,\n        offset = d3_tip_offset,\n        html = d3_tip_html,\n        node = initNode(),\n        svg = null,\n        point = null,\n        target = null,\n        rootElement = functor(document.body);\n\n    function tip(vis) {\n      svg = getSVGNode(vis);\n      point = svg.createSVGPoint();\n      rootElement().appendChild(node);\n    } // Public - show the tooltip on the screen\n    //\n    // Returns a tip\n\n\n    tip.show = function () {\n      var args = Array.prototype.slice.call(arguments);\n\n      if (args[0] instanceof Event) {\n        target = args[0].target;\n      }\n\n      if (args[args.length - 1] instanceof SVGElement) target = args.pop();\n      var content = html.apply(this, args),\n          poffset = offset.apply(this, args),\n          dir = direction.apply(this, args),\n          nodel = getNodeEl(),\n          i = directions.length,\n          coords,\n          scrollTop = document.documentElement.scrollTop || rootElement().scrollTop,\n          scrollLeft = document.documentElement.scrollLeft || rootElement().scrollLeft;\n      nodel.html(content).style('position', 'absolute').style('opacity', 1).style('pointer-events', 'all');\n\n      while (i--) nodel.classed(directions[i], false);\n\n      coords = direction_callbacks[dir].apply(this);\n      nodel.classed(dir, true).style('top', coords.top + poffset[0] + scrollTop + 'px').style('left', coords.left + poffset[1] + scrollLeft + 'px');\n      return tip;\n    }; // Public - hide the tooltip\n    //\n    // Returns a tip\n\n\n    tip.hide = function () {\n      var nodel = getNodeEl();\n      nodel.style('opacity', 0).style('pointer-events', 'none');\n      return tip;\n    }; // Public: Proxy attr calls to the d3 tip container.  Sets or gets attribute value.\n    //\n    // n - name of the attribute\n    // v - value of the attribute\n    //\n    // Returns tip or attribute value\n\n\n    tip.attr = function (n, v) {\n      if (arguments.length < 2 && typeof n === 'string') {\n        return getNodeEl().attr(n);\n      } else {\n        var args = Array.prototype.slice.call(arguments);\n\n        if (n == 'class') {\n          // Prevent internal class override internally\n          getNodeEl().classed(v, true);\n        } else {\n          d3Selection.selection.prototype.attr.apply(getNodeEl(), args);\n        }\n      }\n\n      return tip;\n    }; // Public: Proxy style calls to the d3 tip container.  Sets or gets a style value.\n    //\n    // n - name of the property\n    // v - value of the property\n    //\n    // Returns tip or style property value\n\n\n    tip.style = function (n, v) {\n      if (arguments.length < 2 && typeof n === 'string') {\n        return getNodeEl().style(n);\n      } else {\n        var args = Array.prototype.slice.call(arguments);\n\n        if (args.length === 1) {\n          var styles = args[0];\n          Object.keys(styles).forEach(function (key) {\n            return d3Selection.selection.prototype.style.apply(getNodeEl(), [key, styles[key]]);\n          });\n        }\n      }\n\n      return tip;\n    }; // Public: Set or get the direction of the tooltip\n    //\n    // v - One of n(north), s(south), e(east), or w(west), nw(northwest),\n    //     sw(southwest), ne(northeast) or se(southeast)\n    //\n    // Returns tip or direction\n\n\n    tip.direction = function (v) {\n      if (!arguments.length) return direction;\n      direction = v == null ? v : functor(v);\n      return tip;\n    }; // Public: Sets or gets the offset of the tip\n    //\n    // v - Array of [x, y] offset\n    //\n    // Returns offset or\n\n\n    tip.offset = function (v) {\n      if (!arguments.length) return offset;\n      offset = v == null ? v : functor(v);\n      return tip;\n    }; // Public: sets or gets the html value of the tooltip\n    //\n    // v - String value of the tip\n    //\n    // Returns html value or tip\n\n\n    tip.html = function (v) {\n      if (!arguments.length) return html;\n      html = v == null ? v : functor(v);\n      return tip;\n    }; // Public: sets or gets the root element anchor of the tooltip\n    //\n    // v - the html rootElement \n    //\n    // Returns root node of tip\n\n\n    tip.rootElement = function (v) {\n      if (!arguments.length) return rootElement;\n      rootElement = v == null ? v : functor(v);\n      return tip;\n    }; // Public: destroys the tooltip and removes it from the DOM\n    //\n    // Returns a tip\n\n\n    tip.destroy = function () {\n      if (node) {\n        getNodeEl().remove();\n        node = null;\n      }\n\n      return tip;\n    };\n\n    function d3_tip_direction() {\n      return 'n';\n    }\n\n    function d3_tip_offset() {\n      return [0, 0];\n    }\n\n    function d3_tip_html() {\n      return ' ';\n    }\n\n    var direction_callbacks = {\n      n: direction_n,\n      s: direction_s,\n      e: direction_e,\n      w: direction_w,\n      nw: direction_nw,\n      ne: direction_ne,\n      sw: direction_sw,\n      se: direction_se\n    };\n    var directions = Object.keys(direction_callbacks);\n\n    function direction_n() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.n.y - node.offsetHeight,\n        left: bbox.n.x - node.offsetWidth / 2\n      };\n    }\n\n    function direction_s() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.s.y,\n        left: bbox.s.x - node.offsetWidth / 2\n      };\n    }\n\n    function direction_e() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.e.y - node.offsetHeight / 2,\n        left: bbox.e.x\n      };\n    }\n\n    function direction_w() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.w.y - node.offsetHeight / 2,\n        left: bbox.w.x - node.offsetWidth\n      };\n    }\n\n    function direction_nw() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.nw.y - node.offsetHeight,\n        left: bbox.nw.x - node.offsetWidth\n      };\n    }\n\n    function direction_ne() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.ne.y - node.offsetHeight,\n        left: bbox.ne.x\n      };\n    }\n\n    function direction_sw() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.sw.y,\n        left: bbox.sw.x - node.offsetWidth\n      };\n    }\n\n    function direction_se() {\n      var bbox = getScreenBBox();\n      return {\n        top: bbox.se.y,\n        left: bbox.e.x\n      };\n    }\n\n    function initNode() {\n      let tipNode2 = 2;\n      let tipNode = d3Selection.select('.d3-tip-lib-node');\n\n      if (!tipNode.node()) {\n        tipNode = d3Selection.select(document.createElement('div'));\n      }\n\n      tipNode.classed('d3-tip-lib-node', true).style('position', 'absolute').style('top', '0').style('opacity', '0').style('pointer-events', 'none').style('box-sizing', 'border-box');\n      return tipNode.node();\n    }\n\n    function getSVGNode(el) {\n      el = el.node();\n      if (el.tagName.toLowerCase() === 'svg') return el;\n      return el.ownerSVGElement;\n    }\n\n    function getNodeEl() {\n      if (node === null) {\n        node = initNode(); // re-add node to DOM\n\n        document.body.appendChild(node);\n      }\n\n      ;\n      return d3Selection.select(node);\n    } // Private - gets the screen coordinates of a shape\n    //\n    // Given a shape on the screen, will return an SVGPoint for the directions\n    // n(north), s(south), e(east), w(west), ne(northeast), se(southeast), nw(northwest),\n    // sw(southwest).\n    //\n    //    +-+-+\n    //    |   |\n    //    +   +\n    //    |   |\n    //    +-+-+\n    //\n    // Returns an Object {n, s, e, w, nw, sw, ne, se}\n\n\n    function getScreenBBox() {\n      var targetel = target || d3.event.target;\n\n      while ('undefined' === typeof targetel.getScreenCTM && 'undefined' === targetel.parentNode) {\n        targetel = targetel.parentNode;\n      }\n\n      var bbox = {},\n          matrix = targetel.getScreenCTM(),\n          tbbox = targetel.getBBox(),\n          width = tbbox.width,\n          height = tbbox.height,\n          x = tbbox.x,\n          y = tbbox.y;\n      point.x = x;\n      point.y = y;\n      bbox.nw = point.matrixTransform(matrix);\n      point.x += width;\n      bbox.ne = point.matrixTransform(matrix);\n      point.y += height;\n      bbox.se = point.matrixTransform(matrix);\n      point.x -= width;\n      bbox.sw = point.matrixTransform(matrix);\n      point.y -= height / 2;\n      bbox.w = point.matrixTransform(matrix);\n      point.x += width;\n      bbox.e = point.matrixTransform(matrix);\n      point.x -= width / 2;\n      point.y -= height / 2;\n      bbox.n = point.matrixTransform(matrix);\n      point.y += height;\n      bbox.s = point.matrixTransform(matrix);\n      return bbox;\n    }\n\n    return tip;\n  }\n\n  ;\n  exports.tip = d3Tip;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":{"version":3,"sources":["C:/Users/keppo/node_modules/d3-v6-tip/build/d3-v6-tip.js"],"names":["global","factory","exports","module","require","define","amd","d3","d3Selection","d3Tip","functor","v","direction","d3_tip_direction","offset","d3_tip_offset","html","d3_tip_html","node","initNode","svg","point","target","rootElement","document","body","tip","vis","getSVGNode","createSVGPoint","appendChild","show","args","Array","prototype","slice","call","arguments","Event","length","SVGElement","pop","content","apply","poffset","dir","nodel","getNodeEl","i","directions","coords","scrollTop","documentElement","scrollLeft","style","classed","direction_callbacks","top","left","hide","attr","n","selection","styles","Object","keys","forEach","key","destroy","remove","direction_n","s","direction_s","e","direction_e","w","direction_w","nw","direction_nw","ne","direction_ne","sw","direction_sw","se","direction_se","bbox","getScreenBBox","y","offsetHeight","x","offsetWidth","tipNode2","tipNode","select","createElement","el","tagName","toLowerCase","ownerSVGElement","targetel","event","getScreenCTM","parentNode","matrix","tbbox","getBBox","width","height","matrixTransform","defineProperty","value"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-selection')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'd3-selection'], factory) :\n    (factory((global.d3 = global.d3 || {}),global.d3));\n}(this, function (exports,d3Selection) { 'use strict';\n\n    function d3Tip () {\n        const functor = function functor(v) {\n            return typeof v === \"function\" ? v : function () {\n                return v;\n            };\n        };\n\n        var direction = d3_tip_direction,\n            offset = d3_tip_offset,\n            html = d3_tip_html,\n            node = initNode(),\n            svg = null,\n            point = null,\n            target = null,\n            rootElement = functor(document.body)\n\n        function tip(vis) {\n            svg = getSVGNode(vis)\n            point = svg.createSVGPoint()\n            rootElement().appendChild(node)\n        }\n\n        // Public - show the tooltip on the screen\n        //\n        // Returns a tip\n        tip.show = function () {\n            var args = Array.prototype.slice.call(arguments)\n            if (args[0] instanceof Event) {\n                target = args[0].target;\n            }\n            if (args[args.length - 1] instanceof SVGElement) target = args.pop()\n\n            var content = html.apply(this, args),\n                poffset = offset.apply(this, args),\n                dir = direction.apply(this, args),\n                nodel = getNodeEl(),\n                i = directions.length,\n                coords,\n                scrollTop = document.documentElement.scrollTop || rootElement().scrollTop,\n                scrollLeft = document.documentElement.scrollLeft || rootElement().scrollLeft\n\n            nodel.html(content)\n                .style('position', 'absolute')\n                .style('opacity', 1)\n                .style('pointer-events', 'all')\n\n            while (i--) nodel.classed(directions[i], false)\n            coords = direction_callbacks[dir].apply(this)\n            nodel.classed(dir, true)\n                .style('top', (coords.top + poffset[0]) + scrollTop + 'px')\n                .style('left', (coords.left + poffset[1]) + scrollLeft + 'px')\n\n            return tip\n        }\n\n        // Public - hide the tooltip\n        //\n        // Returns a tip\n        tip.hide = function () {\n            var nodel = getNodeEl()\n            nodel\n                .style('opacity', 0)\n                .style('pointer-events', 'none')\n            return tip\n        }\n\n        // Public: Proxy attr calls to the d3 tip container.  Sets or gets attribute value.\n        //\n        // n - name of the attribute\n        // v - value of the attribute\n        //\n        // Returns tip or attribute value\n        tip.attr = function (n, v) {\n            if (arguments.length < 2 && typeof n === 'string') {\n                return getNodeEl().attr(n)\n            } else {\n                var args = Array.prototype.slice.call(arguments)\n                if (n == 'class') {\n                    // Prevent internal class override internally\n                    getNodeEl()\n                        .classed(v, true);\n                } else {\n                    d3Selection.selection.prototype.attr.apply(getNodeEl(), args)\n                }\n\n            }\n\n            return tip\n        }\n\n        // Public: Proxy style calls to the d3 tip container.  Sets or gets a style value.\n        //\n        // n - name of the property\n        // v - value of the property\n        //\n        // Returns tip or style property value\n        tip.style = function (n, v) {\n            if (arguments.length < 2 && typeof n === 'string') {\n                return getNodeEl().style(n)\n            } else {\n                var args = Array.prototype.slice.call(arguments);\n                if (args.length === 1) {\n                    var styles = args[0];\n                    Object.keys(styles).forEach(function (key) {\n                        return d3Selection.selection.prototype.style.apply(getNodeEl(), [key, styles[key]]);\n                    });\n                }\n            }\n\n            return tip\n        }\n\n        // Public: Set or get the direction of the tooltip\n        //\n        // v - One of n(north), s(south), e(east), or w(west), nw(northwest),\n        //     sw(southwest), ne(northeast) or se(southeast)\n        //\n        // Returns tip or direction\n        tip.direction = function (v) {\n            if (!arguments.length) return direction\n            direction = v == null ? v : functor(v)\n\n            return tip\n        }\n\n        // Public: Sets or gets the offset of the tip\n        //\n        // v - Array of [x, y] offset\n        //\n        // Returns offset or\n        tip.offset = function (v) {\n            if (!arguments.length) return offset\n            offset = v == null ? v : functor(v)\n\n            return tip;\n        }\n\n        // Public: sets or gets the html value of the tooltip\n        //\n        // v - String value of the tip\n        //\n        // Returns html value or tip\n        tip.html = function (v) {\n            if (!arguments.length) return html\n            html = v == null ? v : functor(v)\n\n            return tip\n        }\n\n        // Public: sets or gets the root element anchor of the tooltip\n        //\n        // v - the html rootElement \n        //\n        // Returns root node of tip\n        tip.rootElement = function (v) {\n            if (!arguments.length) return rootElement\n            rootElement = v == null ? v : functor(v)\n\n            return tip\n        }\n\n        // Public: destroys the tooltip and removes it from the DOM\n        //\n        // Returns a tip\n        tip.destroy = function () {\n            if (node) {\n                getNodeEl().remove();\n                node = null;\n            }\n            return tip;\n        }\n\n        function d3_tip_direction() { return 'n' }\n        function d3_tip_offset() { return [0, 0] }\n        function d3_tip_html() { return ' ' }\n\n        var direction_callbacks = {\n            n: direction_n,\n            s: direction_s,\n            e: direction_e,\n            w: direction_w,\n            nw: direction_nw,\n            ne: direction_ne,\n            sw: direction_sw,\n            se: direction_se\n        };\n\n        var directions = Object.keys(direction_callbacks);\n\n        function direction_n() {\n            var bbox = getScreenBBox()\n            return {\n                top: bbox.n.y - node.offsetHeight,\n                left: bbox.n.x - node.offsetWidth / 2\n            }\n        }\n\n        function direction_s() {\n            var bbox = getScreenBBox()\n            return {\n                top: bbox.s.y,\n                left: bbox.s.x - node.offsetWidth / 2\n            }\n        }\n\n        function direction_e() {\n            var bbox = getScreenBBox()\n            return {\n                top: bbox.e.y - node.offsetHeight / 2,\n                left: bbox.e.x\n            }\n        }\n\n        function direction_w() {\n            var bbox = getScreenBBox()\n            return {\n                top: bbox.w.y - node.offsetHeight / 2,\n                left: bbox.w.x - node.offsetWidth\n            }\n        }\n\n        function direction_nw() {\n            var bbox = getScreenBBox()\n            return {\n                top: bbox.nw.y - node.offsetHeight,\n                left: bbox.nw.x - node.offsetWidth\n            }\n        }\n\n        function direction_ne() {\n            var bbox = getScreenBBox()\n            return {\n                top: bbox.ne.y - node.offsetHeight,\n                left: bbox.ne.x\n            }\n        }\n\n        function direction_sw() {\n            var bbox = getScreenBBox()\n            return {\n                top: bbox.sw.y,\n                left: bbox.sw.x - node.offsetWidth\n            }\n        }\n\n        function direction_se() {\n            var bbox = getScreenBBox()\n            return {\n                top: bbox.se.y,\n                left: bbox.e.x\n            }\n        }\n\n        function initNode() {\n            let tipNode2 = 2;\n            let tipNode = d3Selection.select('.d3-tip-lib-node');\n            if (!tipNode.node()) {\n                tipNode = d3Selection.select(document.createElement('div'))\n            }\n            tipNode\n                .classed('d3-tip-lib-node', true)\n                .style('position', 'absolute')\n                .style('top', '0')\n                .style('opacity', '0')\n                .style('pointer-events', 'none')\n                .style('box-sizing', 'border-box')\n\n            return tipNode.node()\n        }\n\n        function getSVGNode(el) {\n            el = el.node()\n            if (el.tagName.toLowerCase() === 'svg')\n                return el\n\n            return el.ownerSVGElement\n        }\n\n        function getNodeEl() {\n            if (node === null) {\n                node = initNode();\n                // re-add node to DOM\n                document.body.appendChild(node);\n            };\n            return d3Selection.select(node);\n        }\n\n        // Private - gets the screen coordinates of a shape\n        //\n        // Given a shape on the screen, will return an SVGPoint for the directions\n        // n(north), s(south), e(east), w(west), ne(northeast), se(southeast), nw(northwest),\n        // sw(southwest).\n        //\n        //    +-+-+\n        //    |   |\n        //    +   +\n        //    |   |\n        //    +-+-+\n        //\n        // Returns an Object {n, s, e, w, nw, sw, ne, se}\n        function getScreenBBox() {\n            var targetel = target || d3.event.target;\n\n            while ('undefined' === typeof targetel.getScreenCTM && 'undefined' === targetel.parentNode) {\n                targetel = targetel.parentNode;\n            }\n\n            var bbox = {},\n                matrix = targetel.getScreenCTM(),\n                tbbox = targetel.getBBox(),\n                width = tbbox.width,\n                height = tbbox.height,\n                x = tbbox.x,\n                y = tbbox.y\n\n            point.x = x\n            point.y = y\n            bbox.nw = point.matrixTransform(matrix)\n            point.x += width\n            bbox.ne = point.matrixTransform(matrix)\n            point.y += height\n            bbox.se = point.matrixTransform(matrix)\n            point.x -= width\n            bbox.sw = point.matrixTransform(matrix)\n            point.y -= height / 2\n            bbox.w = point.matrixTransform(matrix)\n            point.x += width\n            bbox.e = point.matrixTransform(matrix)\n            point.x -= width / 2\n            point.y -= height / 2\n            bbox.n = point.matrixTransform(matrix)\n            point.y += height\n            bbox.s = point.matrixTransform(matrix)\n\n            return bbox\n        }\n\n        return tip\n    };\n\n    exports.tip = d3Tip;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));"]},"metadata":{},"sourceType":"script"}